:root{
  --bg:#f7fafc;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#2563eb;
  --chip-bg:#f1f5f9;
  --radius:10px;
  --shadow: 0 6px 18px rgba(15,23,42,0.06);
}

html,body{height:100%;}
body{font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:#0f172a; margin:0}
.wrap{max-width:1100px;margin:28px auto;padding:20px}
header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
h1{font-weight:600;margin:0;font-size:1.35rem}
.controls{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}
select,input,button{padding:8px 10px;border-radius:8px;border:1px solid #e6edf3;background:#fff}
button{cursor:pointer;transition:all .15s ease;border:1px solid rgba(37,99,235,0.12);background:linear-gradient(180deg,#eff6ff,#e6f0ff)}
button:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(37,99,235,0.06)}
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
.words{margin-top:12px}
/* chips */
#words{display:flex;flex-wrap:wrap;gap:.5rem;margin:0;padding:0}
#words li{list-style:none}
.word-box{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.45rem .6rem;border-radius:8px;background:var(--chip-bg);border:1px solid #e6eef3;min-width:4ch;text-align:center}
.word-box:hover{transform:translateY(-3px);box-shadow:0 10px 22px rgba(2,6,23,0.08)}
.word-english{font-weight:600;color:#0f172a}
.word-original{font-family: 'Noto Serif', serif;color:var(--muted);margin-top:.15rem;font-size:.95rem}
/* transliteration text shown under originals */
.word-translit{font-size:.82rem;color:var(--muted);font-style:italic;margin-top:.12rem}
.word-box.selected{outline:3px solid rgba(37,99,235,0.12);box-shadow:0 6px 14px rgba(37,99,235,0.06)}
/* words that already participate in relations */
.word-box.has-relation{background:linear-gradient(180deg,#fff7ed,#fffbf0);border:1px solid #fde3b7}
/* small badge showing number of relations */
.relation-badge{position:absolute;top:-6px;right:-6px;background:#f97316;color:#fff;border-radius:999px;padding:2px 6px;font-size:0.75rem;font-weight:600;box-shadow:0 4px 10px rgba(249,115,22,0.12)}
.word-box{position:relative}
/* small info/shortcut button next to Add Relation */
#add-relation-panel button#shortcutInfo{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:6px;border-radius:6px;font-size:0.95rem}
#add-relation-panel button#shortcutInfo:hover{background:rgba(0,0,0,0.03)}
/* relations */
#relations-list{margin:0;padding:0}
#relations-list li{list-style:none;margin:8px 0}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
/* tooltip (static inside add-relation panel) */
#word-tooltip{border-radius:10px;font-family:Inter,system-ui,Arial;color:#0f172a}
/* static tooltip placed inside the add-relation panel; hidden until shown */
#word-tooltip{display:block;z-index:50;opacity:0;pointer-events:auto;max-width:100%}
#word-tooltip.show{opacity:1;transition:opacity .12s ease}
#word-tooltip{background:linear-gradient(180deg,#ffffff,#fbfdff);border:1px solid rgba(2,6,23,0.06);box-shadow:0 8px 18px rgba(2,6,23,0.06);padding:10px;border-radius:8px;margin-top:10px}
#word-tooltip .tooltip-grid { gap: .5rem; display:grid; grid-template-columns: 1fr 1fr }
#word-tooltip .tooltip-col { padding-right:6px }
#word-tooltip h4{font-size:.85rem;margin:0 0 .25rem 0;color:var(--muted)}
#word-tooltip ul{margin:0;padding-left:1rem}
#word-tooltip li{font-size:.95rem;margin-bottom:.25rem}
/* chapter view */
.verse-words { display: flex; flex-wrap: wrap; gap: .5rem; list-style: none; padding: 0; margin: 0 }
.verse-words li { list-style: none; display: inline-flex }
.chapter-view { display: block; width: 100%; }
#words > .chapter-view { flex-basis: 100%; flex-grow: 0; }
.chapter-view .verse-block { margin-bottom: 1rem; }
.chapter-view .verse-block h4 { margin: .5rem 0 .25rem 0 }
@media (max-width:720px){.wrap{padding:12px}}

/* Side panels layout */
.app-shell{display:flex;gap:16px}
.main-column{flex:1}
.side-column{width:320px;position:sticky;top:20px;height:calc(100vh - 40px);align-self:flex-start;display:flex;flex-direction:column;gap:12px}
.side-column .card{overflow:auto}

/* Drag & drop visuals */
.word-box[draggable="true"]{touch-action:none}
.drop-target{border:2px dashed rgba(37,99,235,0.18);background:linear-gradient(180deg,rgba(37,99,235,0.02),transparent)}
.drop-hint{font-size:0.85rem;color:var(--muted);padding:6px}